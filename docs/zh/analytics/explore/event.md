# 事件分析

事件分析用于研究某些行为事件的频率。您可以通过自定义指标、分组、过滤器和各种可视图表对用户行为进行多维分析。

## 用例
事件分析通常用于分析用户行为，例如：

- 查询用户使用某个产品功能的情况（例如添加收藏夹、视频播放、查看直播等）；
- 比较不同组用户的行为，例如不同国家每个用户的登录次数；
- 比较不同渠道的效果，例如每个流量来源的注册率。

## 关键概念：
- **指标**：对选择的事件执行聚合，例如事件数量或执行事件的不同用户数量。

## 如何使用

1. 选择一个事件，并选择指标的聚合方法。
2. 通过点击指标旁边的 :material-filter-outline:{ .filter } 图标，为事件添加过滤器。
3. 选择事件参数或用户属性作为过滤器。您可以通过点击 :material-filter-outline:{ .filter } 图标添加多个过滤器。您还可以通过点击 `AND` 或 `OR` 来配置过滤器关系。
4. 如有需要，通过重复上述步骤添加更多指标。
5. 如有需要，通过选择事件参数或用户属性配置全局过滤器。与事件过滤器类似，您可以添加多个全局过滤器并配置过滤器关系。
6. 如有需要，通过选择事件参数或用户属性配置分组。
7. 点击查询按钮开始分析。
8. 如有需要，调整数据粒度，例如每天、每周或每月。
9. 如有需要，调整查询时间范围。
10. 点击保存到仪表板将分析保存到仪表板，输入名称、描述，并选择仪表板和工作表。

## 示例：

> 计算过去一个月内来自不同国家的 Web 页面的每日页面浏览量（PV - 页面浏览）和活跃用户计数（UV - 独立访客），要求活跃用户的会话持续时间至少为 30000 毫秒。

### 步骤

1. 选择 **事件分析** 模型。
2. 在左侧的 **定义指标** 区域，选择 `_page_view` 作为计算事件的指标，并选择 `事件数` 作为指标类型。
3. 点击 **+ 添加事件** 按钮，添加另一个指标。选择 `_app_end` 作为计算事件的指标，并选择 `用户数` 作为指标类型。
4. 点击 `_app_end` 右侧的过滤器图标，添加事件过滤器条件：
    - 过滤器属性：`event._session_duration`
    - 操作：`>=`
    - 值：`30000`（`event._session_duration` 的单位是毫秒）
5. 在右侧的 **过滤器** 区域配置全局过滤器：
    - 选择 `other.platform` 作为过滤器属性。
    - 操作：`=`
    - 值：`Web`
6. 在右侧的 **属性分组** 区域，通过选择 `geo.country` 进行分组。
7. 在底部的时间选择器中，选择 `过去一个月`，然后点击 **OK**。
8. 点击右上角的 **保存到仪表板** 按钮。在弹出的对话框中输入：
    - 图表名称：`PV 和 UV`
    - 图表描述：`过去一个月内 Web 上的 PV 和 UV（至少 30 秒）`
    - 选择仪表板：选择一个仪表板（您需要首先创建一个仪表板，参考 [**创建仪表板**](../dashboard/index.md#create-dashboard)）
    - 选择工作表：选择一个工作表。
    - 点击 **OK**。

所有配置如下图所示：
![explore-event](../../images/analytics/explore/explore-event-en.png)
